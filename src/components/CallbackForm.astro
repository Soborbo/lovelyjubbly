---
interface Props {
  large?: boolean;
}

const { large = false } = Astro.props;
---
<section id="callback-form" class="py-16 bg-gray-50">
  <div class={`max-w-${large ? '3xl' : '2xl'} mx-auto px-4`}>
    <h2 class="text-3xl font-bold text-center mb-2">Request a Callback</h2>
    <p class="text-gray-600 text-center mb-8">
      Fill in your details and Painless Removals will get back to you.
    </p>
    <form
      action="/api/callback"
      method="POST"
      class="bg-white rounded-xl shadow-lg p-6 lg:p-8 space-y-6"
    >
      <input type="hidden" name="utm_source" value="lovelyjubbly" />
      <input type="hidden" name="utm_medium" value="acquired_domain" />
      <!-- Honeypot field -->
      <div class="hidden" aria-hidden="true">
        <label for="website">Website</label>
        <input type="text" name="website" id="website" tabindex="-1" autocomplete="off" />
      </div>

      <div class={large ? 'grid md:grid-cols-2 gap-6' : 'space-y-6'}>
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
            Name <span class="text-secondary">*</span>
          </label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"
            placeholder="Your name"
          />
        </div>
        <div>
          <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">
            Phone <span class="text-secondary">*</span>
          </label>
          <input
            type="tel"
            id="phone"
            name="phone"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"
            placeholder="Your phone number"
          />
        </div>
      </div>

      <div class={large ? 'grid md:grid-cols-2 gap-6' : 'space-y-6'}>
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
            Email (optional)
          </label>
          <input
            type="email"
            id="email"
            name="email"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"
            placeholder="Your email address"
          />
        </div>
        <div>
          <label for="callback_time" class="block text-sm font-medium text-gray-700 mb-1">
            Preferred callback time
          </label>
          <select
            id="callback_time"
            name="callback_time"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"
          >
            <option value="">Any time</option>
            <option value="morning">Morning (9AM - 12PM)</option>
            <option value="afternoon">Afternoon (12PM - 5PM)</option>
            <option value="evening">Evening (5PM - 7PM)</option>
          </select>
        </div>
      </div>

      <div>
        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">
          Message (optional)
        </label>
        <textarea
          id="message"
          name="message"
          rows={large ? 5 : 3}
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"
          placeholder="Tell us about your removal needs..."
        ></textarea>
      </div>

      <button
        type="submit"
        class="w-full bg-secondary hover:bg-red-700 text-white py-4 rounded-lg font-semibold text-lg transition-colors"
      >
        Request Callback
      </button>

      <p class="text-xs text-gray-500 text-center">
        By submitting this form, you agree to our
        <a href="/privacy-policy/" class="underline">Privacy Policy</a>.
        Your details will be shared with Painless Removals.
      </p>
    </form>
  </div>
</section>
